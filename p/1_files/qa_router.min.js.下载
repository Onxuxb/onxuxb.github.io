/*
 * version_code: 2.2.1.13
 */
!function(){"use strict";function e(e,t){for(var n in t=t||{})e[n]=t[n];return e}function t(){return(l().match(/.*(iPhone|iPad|Mac OS).*/i)||[]).length>1}function n(){return(l().match(/(vivo|iqoo|v\d{4}(?:a|t|ba|ca|bt|ct|et|ea|ga|dt|da|a0|al|bt|ka))/i)||[]).length>1}function a(){return(l().match(/.*(xiaomi|redmi|mix|mi\s).*/i)||[]).length>1}function r(){return(l().match(/.*(vivobrowser).*/i)||[]).length>1}function o(){var e=l().match(/.*chrome\/([0-9.]*).*/i)||[],t=parseInt(e[1]);return!isNaN(t)&&t>=81}function i(){return(l().match(/(^Mozilla\/5\.0 \(Linux; Android [0-9.]*; .*\) AppleWebKit\/[0-9.]* \(KHTML, like Gecko\) Chrome\/[0-9.]* Mobile Safari\/[0-9.]*$)/i)||[]).length>1}function c(){var e=+(l().match(/.*Android (\d+).*/i)||[])[1];return!isNaN(e)&&e<10}function d(){var e=+(l().match(/.*Android (\d+).*/i)||[])[1];return!isNaN(e)&&e>=10}function u(){var e=r();return n()&&!e?"http://www.rpkkuai.com":"http://thefatherofsalmon.com"}function s(){var e=r();return n()&&!e?"http://qallzmx.quicklyopen.com":"http://v2.thefatherofsalmon.com"}function l(){var e=navigator.userAgent;return e?e.toLowerCase():""}function p(e){var t={};try{t=JSON.parse(e)}catch(e){t={}}return t}var f,m="144",h="00002|144",v="00008|144",g="https://h5sdk.vivo.com.cn/vivo-h5-sdk.js";function w(e,t,n){f?b(e,t,n):((f=document.createElement("script")).type="text/javascript",f.src=g,f.onload=function(){b(e,t,n)},f.onerror=function(){n&&n()},document.head.appendChild(f))}var y=[];function b(e,t,n){!function(e,t){y.push({eventId:e,params:t})}(e,t),window.vTgSDK?function(e){for(var t=y.length-1;t>=0;t--){var n=y.pop(),a=n.eventId,r=n.params;window.vTgSDK.onError((function(t){e&&e()})),window.vTgSDK.config({appId:m});var o=[{data:{appId:m,duration:"0",event_id:a,params:r},successFn:function(){e&&e()},errorFn:function(){e&&e()}}];window.vTgSDK.push(o),window.vTgSDK.clear()}}(n):n&&n()}var k=/QA-ROUTER-BUTTON|QA:ROUTER-BUTTON/,_="https://statres.quickapp.cn/quickapp/js",x=_+"/btn.html",O=[],C=[],R=[];function A(){window.addEventListener("message",(function(e){var t=e.data,n=t&&t._action,a=t&&t.iframeIndex,r=function(e){try{return new URL(e)}catch(e){return{}}}(e.origin).hostname||"";if(-1!==_.indexOf(r)&&t&&n)switch(n){case"ready":O.push(a),U(a);break;case"resize":!function(e){var t=e&&e.iframeIndex;if("number"!=typeof t)return;var n=e.height,a=e.width,r=R[t];r&&(r.style.width=a),r&&(r.style.height=n)}(t);break;case"dispatchEvent":!function(e){var t=e&&e.eventFucName,n=e&&e.eventParams;window[t]?window[t](n):console.error("### qa-router-button ### 回调方法 ".concat(t," 未在全局作用域定义"))}(t)}}))}var N=0;function T(){if(!window.htmlObserver&&MutationObserver){var e=document.querySelector("html");window.htmlObserver=new MutationObserver((function(e){e.forEach((function(e){var t=function(e){var t=e.addedNodes;if("childList"!==e.type||!t||!t.length)return null;var n=[];return E(t,n),function(e){for(var t=0;t<e.length;t++)S.has(e[t])?e.splice(t--,1):S.add(e[t])}(n),n.length>0?n:null}(e);if(t)for(var n=0;n<t.length;n++){var a=t[n],r=N++;L(a),j(a,r),I(a,r)}}))})),window.htmlObserver.observe(e,{childList:!0,subtree:!0})}}var S=new Set;function E(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.nodeName.search(k)>-1?t.push(a):a.childNodes&&a.childNodes.length>0&&E(a.childNodes,t)}}function I(e,t){MutationObserver&&new MutationObserver((function(e){e.forEach((function(e){O.includes(t)&&"qa-inner-iframe"!==e.target.className&&U(t)}))})).observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0})}function j(e,t){var n=function(e){var t=e.getAttribute("data-design-params"),n=p(t),a=n&&n.designWidth?n.designWidth:1080,r=n&&n.fontSize?n.fontSize:16;a=parseInt(a),r=parseInt(r);var o=(document.documentElement.clientWidth||document.body.clientWidth)/a;return(r*o).toFixed(5)}(e),a=document.createElement("iframe");a.setAttribute("class","qa-inner-iframe"),a.setAttribute("referrerPolicy","unsafe-url");var r=(new Date).getTime(),o=D(e).packageName;a.onerror=function(){!function(e,t){var n={rpk_package:e,user_agent:ua,btn_index:t};w(v,n)}(o,t)},a.src=x+"?iframeIndex=".concat(t,"&fontSize=").concat(n,"&startTime=").concat(r,"&pkg=").concat(o),a.style.width="100%",a.style.height=e.style.height,a.scrolling="no",a.frameBorder="no",e.appendChild(a),C.push(e),R.push(a)}function U(e){if("number"==typeof e&&C.length){var t=R[e],n=C[e],a=D(n),r=function(e){var t=e.getAttribute("data-click-event");t=p(t);var n=e.getAttribute("data-expose-event");return n=p(n),{clickEvent:t,exposeEvent:n}}(n),o=n.innerHTML;L(n),t.contentWindow.postMessage({_action:"postBtnInfo",innerCode:o,routerData:a,events:r},_)}}function D(e){var t=e.getAttribute("data-package-name"),n=e.getAttribute("data-page"),a=e.getAttribute("data-params");return{packageName:t,page:n,params:a=p(a)}}function L(e){var t=e.getElementsByTagName("templates"),n=e.getElementsByTagName("styles");t&&t[0]&&(t[0].style.display="none"),n&&n[0]&&(n[0].style.display="none")}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}var M=new function(){this.ua=navigator.userAgent,this.refer=document.referrer,this.randomCodeKey="none",this.packageName="packageName",this.randomCode=0,this.time=0,this.type="type",this.reason="normal report",this.urlLength=0};function J(e,t,n,a){var r="http://quickappurl-drcn.hms.dbankcloud.cn/fastapprouter/",o="";(r=r+(new Date).getTime()+"/",t)&&(0===t.indexOf("/")&&(t=1===t.length?"":t.substr(1)));if(e&&(r=r+"?i="+e),t&&(r=r+"&p="+t),function(e){if(!e)return!0;var t=void 0;for(t in e)return!1;return!0}(n)){var i=window.location.search;i.indexOf("?")>-1&&(o=i.substr(1))}else o=Object.keys(n).map((function(e){return e+"="+encodeURIComponent(n[e])})).join("&");""!==o&&(r=r+"&a="+encodeURIComponent(o)),void 0!==a&&a&&(r=r+"&__urc__="+a),M.time=(new Date).getTime(),M.type="urlJump",M.urlLength=r&&r.length,_hasdk.sendData("webJump","jsJump",M,"cvar");var c=document.createElement("img");c.src=r,c.style.width="1px",c.style.height="1px",c.style.display="none",document.body.appendChild(c)}function z(t){var n={available:new Function};"function"==typeof t?n.available=t:"object"===q(t)&&e(n,t);var a=!1,r=n.available;n.available=function(){a||(a=!0,r.apply(null,arguments))},n.available.call(null,!0)}var B,K=function(e,t,n){var a=document.createElement("script");a.src="https://h5hosting-drcn.dbankcdn.cn/cch5/apms/ha_2.2.3-500/ha.min.js",a.onload=function(){if(_hasdk.setIdsite("com.huawei.fastappweb").setOnReportUrl("https://metrics-drcn.dt.hicloud.com:443/webv4"),M.packageName=e,function(e){var t=navigator.userAgent;if(t){if((t=t.toLowerCase()).indexOf("huaweibrowser")>=0)return M.reason="huawei browser",!1;var n=t.indexOf("android"),a=t.indexOf("huawei");if(a<0&&(a=t.indexOf("honor")),n>=0&&a>=0){var r=t.slice(n+8,n+9);if(r>=8)return!0;if((r=t.slice(n+8,n+10))&&r.indexOf(";")<0&&r>=10)return!0;M.reason="android not support"}else M.reason="device not support"}return!1}()){var a=window.location.href;if(window.self===window.top&&a.startsWith("https://user.quickapp.cn/")){var r=function(e){var t,n=window.crypto||window.webkitCrypto||window.mozCrypto||window.oCrypto||window.msCrypto;n?t=n.getRandomValues(new Uint32Array(1))[0]/4294967296:(t=Math.random(),M.type="fetch",M.reason="crypto not support",_hasdk.sendData("webJump","jsJump",M,"cvar"));var a=1e5;return Math.floor(9e5*t)+a}();M.randomCodeKey="urc",M.randomCode=r,function(e,t){var n=new Date;console.log("request date: "+n+n.getMilliseconds()),window.fetch?fetch("https://store-drcn.hispace.dbankcloud.cn/hwmarket/api/clientApi",{method:"POST",mode:"no-cors",body:"method=quickApp.addJumpCode&code="+t}):(M.type="fetch",M.reason="fetch not support",_hasdk.sendData("webJump","jsJump",M,"cvar"))}(0,r),J(e,t,n=n||{},r)}else J(e,t,n=n||{});if(function(){var e=navigator.userAgent;if(e){var t=(e=e.toLowerCase()).indexOf("android"),n=e.indexOf("huawei");if(n<0&&(n=e.indexOf("honor")),t>=0&&n>=0){var a=e.slice(t+8,t+9);if(a>=9)return!1;if((a=e.slice(t+8,t+10))&&a.indexOf(";")<0&&a>=10)return!1}}return!0}()){var o=new Date;setTimeout((function(){new Date-o<=830&&(M.type="deepLinkAgain",_hasdk.sendData("webJump","jsJump",M,"cvar"))}),800)}}else!function(e,t,n){var a="hwfastapp://"+e;t&&(a=a+"/"+t),n&&Object.keys(n).length>0&&(a=a+"?"+(n=Object.keys(n).map((function(e){return e+"="+encodeURIComponent(n[e])})).join("&"))),window.location.href=a,M.time=(new Date).getTime(),M.type="deepLinkJump",_hasdk.sendData("webJump","jsJump",M,"cvar")}(e,t,n)},document.body.appendChild(a)};var W=new Uint8Array(16);function P(){if(!B&&!(B="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(W)}var Q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var V=[],F=0;F<256;++F)V.push((F+256).toString(16).substr(1));function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(V[e[t+0]]+V[e[t+1]]+V[e[t+2]]+V[e[t+3]]+"-"+V[e[t+4]]+V[e[t+5]]+"-"+V[e[t+6]]+V[e[t+7]]+"-"+V[e[t+8]]+V[e[t+9]]+"-"+V[e[t+10]]+V[e[t+11]]+V[e[t+12]]+V[e[t+13]]+V[e[t+14]]+V[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Q.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function G(e,t,n){var a=(e=e||{}).random||(e.rng||P)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return H(a)}function $(e,t){var r=t.packageName,c=t.page,d=t.params,u=t.ssid,s=e,p="";r&&(s=s+"?i="+r),c&&(s=s+"&p="+c),s+="&random="+Math.random();var f="";if(function(e){if(!e)return!0;var t=void 0;for(t in e)return!1;return!0}(d)){var m=window.location.search;m.indexOf("?")>-1&&(p=m.substr(1))}else{var v=Object.keys(d).map((function(e){return"QUICK_APP_ST_CHANNEL"===e&&(f=d[e]),e+"="+encodeURIComponent(d[e])}));p=v.join("&")}var g,y=function(){var e="",t=!0;try{e=top.location.href}catch(a){try{var n=window.location.ancestorOrigins;e=n[n.length-1]}catch(n){e=document.referrer,t=!1}}return{url:e,isTopUrl:t}}(),b=y.url,k=y.isTopUrl,_=n(),x=a(),O=(l().match(/.* (oppo|oneplus|p[a-z]{3}\d{2}|(rmx|cph|n|gm|hd|in|le|mw)\d{4}|a\d{2,4}[a-z]{0,2}|(r|u|x)\d{3,4}[a-z]{0,1}) .*/i)||[]).length>0;if((_||x||O)&&(p=(p=p+"&url_origin_top="+encodeURIComponent(b))+"&url_is_top="+encodeURIComponent(k)),_){var C={qa_ssid_approuter:u,lewjxy:2};p=p+"&h5_common_params="+encodeURIComponent(JSON.stringify(C))}(""!==p&&(s=s+"&a="+encodeURIComponent(p)),_)?(g=i()&&o()?function(){var e=function(e,t,n){var a="string"!=typeof t||t.startsWith("/")?"":"/",r=t?"".concat(a).concat(t):"",o=n?"?".concat(n):"";return"intent://app/".concat(e).concat(r).concat(o,"#Intent;scheme=hap;package=com.vivo.hybrid;category=android.intent.category.BROWSABLE;action=android.intent.action.VIEW;end")}(r,c,p);window.location.href=e}:function(){X(s)},function(e,t,n){var a={rpk_package:e,user_agent:l(),source_channel:t.sourceChannel,qa_ssid_approuter:t.ssid,lewjxy:2};w(h,a,n)}(r,{sourceChannel:f,ssid:u},g)):X(s)}function X(e){var t=document.createElement("img");t.src=e,t.style.width="1px",t.style.height="1px",t.style.display="none"}function Y(t,n){var a=document.createElement("img");if(a.style.width="1px",a.style.height="1px",a.style.display="none",t+="/"+1e20*Math.random(),a.src=t,document.body.appendChild(a),n=e({availableTimeout:2e3},n),a.complete)n.available.call(null,!0);else{var r=setTimeout((function(){n.available.call(null,!1)}),n.availableTimeout);a.onload=function(){clearTimeout(r),n.available.call(null,!0)}}}function Z(e){var r=u(),o=s();a()&&(e.params.__xiaomi_session__=e.ssid);t()?console.debug("appRouter detected device: Apple device;"):c()?(console.debug("appRouter detected device: Below Android Q;"),$(r,e),a()&&$(o,e)):d()?(console.debug("appRouter detected device: Greater and equal than Android Q;"),n()||$(r,e),$(o,e)):(console.debug("appRouter detected device: None match;"),$(r,e),$(o,e))}function ee(e,t,n,a){n=n||{};var r=G();a&&(n.__PROMPT__=1,n.__NAME__=a),Z({packageName:e,page:t,params:n,ssid:r})}function te(e,t){return Z("command")}function ne(a){var r={available:new Function};if("function"==typeof a?r.available=a:"object"===q(a)&&e(r,a),!(n()&&i()&&o())){var l=!1,p=r.available;return r.available=function(){l||(l=!0,p.apply(null,arguments))},function(e){var a=u(),r=s();t()?(console.debug("channelReady detected device: Apple device;"),e.available.call(null,!1)):c()?(console.debug("channelReady detected device: Below Android Q;"),Y(a+"/images",e)):d()?(console.debug("channelReady detected device: Greater and equal than Android Q;"),n()||Y(a+"/images",e),Y(r+"/images",e)):(console.debug("channelReady detected device: None match;"),Y(a+"/images",e),Y(r+"/images",e))}(r)}r.available.call(null,!0)}T(),A(),!function(){var e=l(),t=e.indexOf("android"),n=e.indexOf("huawei"),a=e.indexOf("honor");return t>=0&&(n>=0||a>=0)}()?(window.appRouter=ee,window.installShortcut=te,window.channelReady=ne):(window.appRouter=window.appRouterHw=K,window.channelReady=z)}();
